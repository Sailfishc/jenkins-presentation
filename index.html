<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Your deck.js Presentation</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/web-2.0.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
<div class="deck-container">

  <!-- Begin slides. Just make elements with a class of slide. -->

  <section class="slide">
    <h1>使用 Jenkins 优化团队开发流程</h1>
  </section>

  <section class="slide">
    <h2>个人简介</h2>

    <p>刘志鹏 / hustlzp</p>

    <p>华中科技大学光电学院，2015年6月毕业。</p>

    <p>博客: hustlzp.com</p>

    <p>GitHub用户名: hustlzp</p>

  </section>

  <section class="slide">
    <h2>概要</h2>
    <ul>
      <li>真实的需求</li>
      <li>Jenkins简介</li>
      <li>安装和启动</li>
      <li>自动化测试、代码质量检测、发布</li>
      <li>Jenkins配置文件的备份、变更记录</li>
      <li>小结</li>
    </ul>
  </section>

  <section class='slide'>
    <h2>真实的需求</h2>

    <p>曾经参与一个学生创业团队，主要使用Python做Web开发。</p>

    <ul>
      <li>A新建了一个特性分支，写完了功能代码</li>
      <li>A忘记了执行单元测试，就将此分支合并到master</li>
      <li>A将代码部署到生产服务器</li>
      <li>网站出现了bug，严重影响了用户体验</li>
    </ul>

    <p><strong>解决方案</strong>：将测试/部署等 <strong>「容易遗漏的、重复性的、枯燥的」</strong> 过程，交给机器自动完成。</p>
    <ul>
      <li>减少风险，缩短 <strong>开发-测试-交付</strong> 的周期</li>
      <li>增强项目的可见性，增强团队对开发产品的信心</li>
    </ul>
  </section>

  <section class='slide'>
    <h2>Jenkins简介</h2>

    <img style="margin-left: 0" src="http://jenkins-ci.org/sites/default/files/jenkins_logo.png">

    <p>市场占有率最高（70%）的持续集成工具。</p>

    <ul>
      <li>安装简单</li>
      <li>配置简单</li>
      <li>极其丰富的插件</li>
      <li>非常高的开发频率（GitHub项目地址: https://github.com/jenkinsci/jenkins）</li>
    </ul>
  </section>

  <section class="slide">
    <h2>安装和启动</h2>

    <p>针对Windows、Ubuntu、CentOS等数10种操作系统都提供了安装包。</p>

    <h3>举例：CentOS 6.5</h3>

    <pre>yum install jenkins
service jenkins start</pre>

    <h3>使用Docker安装</h3>

    <pre>docker run -d -p 8080:8080 -t zaiste/jenkins</pre>

    <p>启动后，Jenkins会运行在8080端口，可通过浏览器访问。</p>
  </section>

  <section class="slide">
    <h2>自动化测试、代码质量检测、发布</h2>

    <p><strong>Job</strong>: Jenkins中的核心概念，表示一种抽象的任务。</p>

    <ul>
      <li>tm_test: 执行测试、代码质量检测等</li>
      <li>tm_staging_deploy: 将代码部署到staging服务器上</li>
      <li>tm_production_deploy: 将代码部署到production服务器上</li>
    </ul>

    <img src="http://hustlzp-ppt.qiniudn.com/flow.png" alt=""/>
  </section>

  <section class="slide">
    <h2>工作流程简介</h2>

    <ol>
      <li>使用Git作为代码管理工具</li>
      <li>开发新功能时，需新建一个特性分支，开发完毕后合并到master</li>
      <li>每当master分支的代码变动时，触发tm_test任务</li>
      <li>tm_test若运行通过，则自动触发tm_staging_deploy任务，否则发送邮件报警</li>
      <li>人工登陆运行在staging服务器上的网站，检查是否达到预期效果</li>
      <li>若达到预期效果，手动触发tm_production_deploy任务</li>
      <li>人工登陆运行在production服务器上的网站，检查是否达到预期效果</li>
    </ol>
  </section>

  <section class="slide">
    <h2>tm_test</h2>

    <p>流程:</p>

    <img src="http://hustlzp-ppt.qiniudn.com/tm_test.png" alt=""/>
  </section>

  <section class="slide">
    <h2>tm_staging_deploy</h2>

    <p>流程:</p>

    <img src="http://hustlzp-ppt.qiniudn.com/tm_staging_deploy.png" alt=""/>
  </section>

  <section class="slide">
    <h2>tm_production_deploy</h2>

    <p>流程:</p>

    <img src="http://hustlzp-ppt.qiniudn.com/production_deploy.png" alt=""/>
  </section>

  <section class="slide">
    <h2>Jenkins配置文件备份</h2>
  </section>

  <section class="slide">
    <h2>Jenkins配置文件变更记录</h2>
  </section>

  <section class="slide">
    <h2>小结</h2>

    <p>关注用户体验（对外），也关注工作体验（对内）。</p>

    <p>关注DevOps = 提升产品的交付速度和质量 + 提升程序员的工作体验。</p>
  </section>

  <section class="slide">
    <h2>Thank you for listening!</h2>

    <ul>
      <li>PPT地址: http://hustlzp.github.io/jenkins-presentation</li>
      <li>相关博文: http://hustlzp.com/post/2014/08/jenkins</li>
    </ul>
  </section>

  <!-- End slides. -->

  <!-- Begin extension snippets. Add or remove as needed. -->

  <!-- deck.navigation snippet -->
  <div aria-role="navigation">
    <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
    <a href="#" class="deck-next-link" title="Next">&#8594;</a>
  </div>

  <!-- deck.status snippet -->
  <p class="deck-status" aria-role="status">
    <span class="deck-status-current"></span>
    /
    <span class="deck-status-total"></span>
  </p>

  <!-- deck.goto snippet -->
  <form action="." method="get" class="goto-form">
    <label for="goto-slide">Go to slide:</label>
    <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
    <datalist id="goto-datalist"></datalist>
    <input type="submit" value="Go">
  </form>

  <!-- End extension snippets. -->
</div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function () {
    $.deck('.slide');
  });
</script>
</body>
</html>
